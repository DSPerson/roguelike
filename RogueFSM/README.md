> 这个是使用三方有限状态机的版本